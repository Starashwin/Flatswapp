<!DOCTYPE html>
{% extends 'webapp_flatswapp/base.html' %}
{% load staticfiles %}

{% block title_block %}
Add a Property
{% endblock %}

{% block body_block %}
<!--<html>
	<head>
		<title>webapp_flatswapp</title>
	</head>

	<body>-->
		
		<div class="col-sm-4 mx-auto"  style="margin-top:70px">
			<h1>Add a Property</h1>
			<form id="property_form" method="post" action="{% url 'webapp_flatswapp:add_property' %}" enctype="multipart/form-data"> <!--action="/flatswapp/add_category/"-->
				
				{% csrf_token %}
				{% for hidden in form.hidden_fields %}
					{{ hidden }}
				{% endfor %}
				{% for field in form.visible_fields %}
					{{ field.errors }}
					{{ field.help_text }}
					{{ field }}
				{% endfor %}
				<script>
				$('#datepicker').datepicker({
					uiLibrary: 'bootstrap4'
					
				});
				$('.gj-unselectable').width('400px');
				</script>
				<input type="submit" name="submit" value="Create Property" />
			</form>
		</div>
		
		<script>
			function loadDoc() {
			  <!--alert("Working1");-->
			  <!--alert("Working3" + "http://api.postcodes.io/postcodes/"+document.getElementById('id_postcode').value);-->
			  var xhttp = new XMLHttpRequest();
			  xhttp.onreadystatechange = function() {
				if (this.status == 200) {
				var myObj = JSON.parse(this.responseText);
				document.getElementById('id_longitude').value = myObj.result.longitude;
				<!--alert(myObj.result.longitude);-->
				<!--alert("Working2" + document.getElementById('id_longitude').value);-->
				document.getElementById('id_latitude').value = myObj.result.latitude;
				}
			  };
			  xhttp.open("GET", "http://api.postcodes.io/postcodes/"+document.getElementById('id_postcode').value);
			  <!--alert("Working4" + document.getElementById('id_longitude').value);-->
			  xhttp.send();
			}
		</script>
{% endblock %}
<!--</body>
</html>-->